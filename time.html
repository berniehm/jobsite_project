<!DOCTYPE html>
<html lang="en">
<head>

    <!--This is the stlye of the timesheet page-->
   
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timesheet Calculator</title>

    <meta name="description" content="">
    <meta name ="viewport" conctent="width=device-width">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel="stylesheet" href="css/home.css">

    <style>
        body {
            padding-top: 60px;
            padding-bottom: 40px;

        }
    </style>
    <link rel ="stylesheet" href="">

    </head>
    <body>

        <nav class = "nav">

    <div class="topnav d-flex align-items-center">


        <img src="./images/clock.jpg" alt="clock" class="clock me-2">
        <a class ="brand fw-bold" href="#"> Log Times</a>
    </div>

   
    <!--This is the nav bar for the timesheet to allow you to log the time you started the job
    Staff can also log the time they finished the job
    Staff can also leave notes -->
   
        <div class ="navbar-inner">
            <div class ="container">
            <a class ="btn btn-navbar" data-toggle="collaspe" data-target=".nav-collapse">
                <span class ="icon-bar"></span>
                <span class ="icon-bar"></span>
                <span class ="icon-bar"></span>
                
            </a>
           <h5>Welcome <span id = "active_user"></span> </h5>
            <button class=" btn btn-danger ms-2 item" id = "logout"> Logout</button>
            <a class=" btn btn-danger ms-2 item" href="./upload.html"> uploadDocument</a>
            <div class = "nav-collapse collapse"></div>
        </div>
        </div>
    </div>
</nav>
 
<div class = "container mt-5 ">
    <h1 class = "text-center">Add job</h1>

    <form id= "job-form">
        <div class = "form-group">
            <label for = "starttime">Start Time</label>
            <input type="time" class = "form-control" id ="start" />
        </div>
        <div class = "form-group">
            <label for = "endtime">End Time</label>
            <input type="time" class = "form-control" id ="end" />
        </div>
        <div class = "form-group">
            <label for = "jobdetails">Description</label>
            <input type="text" class = "form-control" id ="details" />
        </div>
        <div class = "form-group">
            <label for = "notes">Additonal Notes</label>
            <input type="text" class = "form-control" id ="notes" />
        </div>
        <button type ="submit" class="btn btn-primary" >Add Job</button>
    </form>
    <hr/>

    <table class = "table" id ="jobs_table">
        <thead> 
            <tr>
                <th scope="col">Date</th>
               <th scope="col">start</th>
               <th scope="col">end</th>
               <th scope="col">Sum of Hours</th>
               <th scope="col">details</th>
               <th scope="col">notes</th>
               <th scope= "col">
                   <button class = "btn btn-success" id = "download_report" >Download</button>
               </th>
            </tr>
        </thead>
        <tbody id = "jobs_list"> </tbody>
    </table> 
    
</div>

<script src="js/timesheet.js"></script>             
<script src="js/vendor/bootstrap.min.js"></script>
<!-- Download table in to a pdf -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.22/pdfmake.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
  <script type="text/javascript">
    document.getElementById("download_report").addEventListener("click", function() {
/*allows the table to be downloaded in to a pdf by converting it to a data url*/
        document.getElementById("download_report").style.display = "none" ;
       
      html2canvas(document.getElementById('jobs_table'), {
        onrendered: function(canvas) {
          var data = canvas.toDataURL();
          var docDefinition = {
            content: [{
              image: data,
              width: 500
            }]
          };
          pdfMake.createPdf(docDefinition).download("customer-details.pdf");
        }
      });

    });
  </script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
</body>
</html>

         

 

    
